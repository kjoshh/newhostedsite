import"./main-29186016.js";import{g as o}from"./index-794e919d.js";document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("device-check-overlay"),t=document.getElementById("device-check-message"),y=document.getElementById("browser-check-why-link"),n=document.getElementById("mobile-check-why-link"),u=document.getElementById("browser-check-explanation"),b=document.getElementById("mobile-check-explanation"),L=document.getElementById("device-check-content");function f(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function v(){const l=navigator.userAgent;return l.indexOf("Safari")>-1&&l.indexOf("Chrome")==-1&&!f()}f()?(console.log("ismobileeee"),t.textContent="oh no, you are using a phone :( you need a larger device, like a laptop in order to enter this page. also pls dont use safariiii",i.classList.remove("hidden"),n.classList.remove("hidden"),L.classList.add("mobile")):v()?(console.log("issafariiiiii"),t.textContent="oh no, you are using safari :( you need a different browser like chrome in order to enter this page.",i.classList.remove("hidden"),y.classList.remove("hidden")):(console.log("isnohtinginging"),i.classList.add("hidden")),y.addEventListener("click",function(l){l.preventDefault(),u.classList.toggle("show")}),n.addEventListener("click",function(l){l.preventDefault(),b.classList.toggle("show")})});document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("cross"),t=document.getElementById("header-img"),y=document.getElementById("year-navigation"),n=document.querySelectorAll("a"),u=document.querySelectorAll(".crosslink"),b=document.getElementById("interface");b.style.display="flex",o.set(u,{opacity:.75}),u.forEach(e=>{const a=()=>{o.to(e,{duration:.3,opacity:1,ease:"power1.out"})},r=()=>{o.to(e,{duration:.3,opacity:.75,ease:"power1.out"})};e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",r)}),n.forEach(function(e){e.addEventListener("click",function(a){const r=this.getAttribute("href"),h=document.querySelectorAll(".year-section");document.querySelectorAll(".image-container");const c=r.startsWith("#"),p=r.startsWith("javascript:"),E=this.getAttribute("target")==="_blank",q=this.hasAttribute("download");if(c||p||E||q)return;a.preventDefault();const W=this.href;o.to([t,y,h],{y:-50,opacity:0,duration:.5,ease:"power4.inOut",onComplete:()=>{window.location.href=W}}),o.to(i,{y:0,opacity:0,duration:.15,ease:"power3.inOut",onComplete:()=>{n.forEach(I=>{I.style.display="none"}),i&&(i.style.display="none")}})})}),document.querySelectorAll("img").forEach(e=>{e.id!=="lightbox-image"&&e.id!=="header-img"&&e.id!=="cross"&&e.src&&!e.dataset.src&&(e.dataset.src=e.src,e.removeAttribute("src"),e.classList.add("lazy-image"))});const f=document.querySelectorAll(".year-link"),v=document.querySelector(".header-diary");o.set(v,{opacity:0,y:20}),o.set(i,{opacity:0,y:15}),o.to(v,{opacity:1,y:0,duration:1,ease:"power3.out"}),o.to(i,{opacity:1,y:0,duration:.3,ease:"power2.out"}),o.set(f,{opacity:0,y:5}),o.to(f,{opacity:1,y:0,duration:.2,delay:.25,stagger:.075,ease:"power2.out"}),document.querySelectorAll(".year-link").forEach(e=>{e.addEventListener("click",()=>{o.to(e,{y:-1.5,duration:.1,yoyo:!0,repeat:1,ease:"power1.out"}),document.querySelectorAll(".year-link").forEach(h=>h.classList.remove("active")),e.classList.add("active"),document.querySelectorAll(".year-section").forEach(h=>h.style.display="none");const a=document.querySelector(`#section-${e.dataset.year}`);a&&(a.style.display="block");const r=a.querySelectorAll(".month-link");r.length>0&&(o.set(r,{opacity:0,y:2.5}),o.to(r,{opacity:1,y:0,duration:.2,stagger:.04,ease:"power2.out"}))})});const l=document.querySelector("#svg-loader .cls-1"),m=document.getElementById("svg-loader");l.style.display="block";const w=l.getTotalLength();l.style.strokeDasharray=w,l.style.strokeDashoffset=w,l.dataset.pathLength=w;function A(){N(),m.style.display="block",m.style.opacity="1",o.to(l,{strokeDashoffset:0,duration:10,ease:"power1.out"})}function x(e){const a=w*(1-e/100);o.to(l,{strokeDashoffset:a,duration:.5,ease:"power1.out",overwrite:!0}),m.setAttribute("aria-valuenow",e)}function C(){o.to(m,{opacity:0,duration:.2,ease:"power1.in",onComplete:()=>{m.style.display="none",N()}})}function N(){o.set(l,{strokeDashoffset:w})}async function j(e,a){const r=e.length;let h=0;A();for(let c=0;c<r;c++){const p=e[c],E=p.dataset.src;E&&(p.src=E,p.removeAttribute("data-src"),await new Promise((q,W)=>{p.onload=()=>{h++;const I=h/r*100;x(I),a&&a(p,c,r),q()},p.onerror=()=>{console.error("Failed to load image:",E),h++;const I=h/r*100;x(I),a&&a(p,c,r),q()}}))}setTimeout(()=>{C()},400)}document.querySelectorAll(".month-link").forEach(e=>{e.addEventListener("click",async()=>{o.to(e,{y:-1.5,duration:.1,yoyo:!0,repeat:1,ease:"power1.out"}),document.querySelectorAll(".month-section").forEach(c=>{c.style.display="none"}),document.querySelectorAll(".month-link").forEach(c=>c.classList.remove("active")),e.classList.add("active");const a=document.querySelector(`#month-${e.dataset.year}-${e.dataset.month}`);if(!a)return;if(a.dataset.loaded==="true"){a.style.display="block";const c=a.querySelectorAll("img");images,o.to(c,{opacity:1,duration:.3,stagger:.1});return}a.dataset.loaded="true";const r=Array.from(a.querySelectorAll("img.lazy-image"));if(!r.length)return;a.style.display="block",o.set(r,{opacity:0}),await j(r,(c,p,E)=>{o.to(c,{opacity:1,duration:.5,delay:p*.05}),c.classList.remove("lazy-image")})})});const T=document.querySelectorAll(".image-container");let R=!0;document.querySelectorAll(".month-link").forEach(e=>{e.addEventListener("click",()=>{R&&(v.classList.add("first-click-active"),o.to(T,{opacity:1,duration:.3,delay:.7,ease:"power1.in"}),R=!1)})})});const B=document.getElementById("cross");B.addEventListener("click",function(i){i.preventDefault();const t="/";sessionStorage.setItem("isInternalNavigation","true"),fetch(t,{mode:"no-cors"}).then(()=>console.log("Page preloaded:",t)).catch(()=>console.warn("Failed to preload page:",t)),B.style.pointerEvents="none"});sessionStorage.getItem("isInternalNavigation");const k=document.getElementById("lightbox"),S=document.getElementById("lightbox-image"),$=document.getElementById("interface"),z=document.getElementById("year-navigation"),F=document.querySelectorAll(".month-navigation");let d=[],g=0;const s=document.createElement("div");s.style.position="fixed";s.style.bottom="20px";s.style.right="20px";s.style.color="#ffffffd6";s.style.letterSpacing="-1.5px";s.style.textStroke="-0.25px";s.style.fontSize="15px";s.style.fontFamily="Neueeigene";s.style.zIndex="1002";s.style.backgroundColor="#000000e6";s.style.paddingTop="3.5px";s.style.paddingBottom="1.5px";s.style.paddingLeft="8px";s.style.paddingRight="8px";s.style.opacity="0";s.style.borderRadius="5px";s.style.display="none";document.body.appendChild(s);function O(){s.textContent=`${g+1} / ${d.length}`,s.style.display="block",o.to(s,{opacity:1,duration:.5,ease:"power2.in"})}function H(i){if(k.style.display==="flex")switch(i.key){case"ArrowRight":P();break;case"ArrowLeft":M();break;case"Escape":D();break}}document.querySelectorAll(".image-container img").forEach(i=>{i.addEventListener("click",t=>{t.target.style.visibility="hidden";const y=t.target.closest(".image-container");d=Array.from(y.querySelectorAll("img")),g=d.indexOf(t.target),O(),o.to([$,z,F],{opacity:0,duration:.5,ease:"power2.in",onComplete:()=>{$.style.display="none"}});const n=t.target.cloneNode(!0),u=t.target.getBoundingClientRect();n.style.position="fixed",n.style.top=`${u.top}px`,n.style.left=`${u.left}px`,n.style.width=`${u.width}px`,n.style.height=`${u.height}px`,n.style.zIndex="1000",n.style.transition="none",n.style.objectFit="contain",n.style.visibility="hidden",n.style.pointerEvents="none",document.body.appendChild(n),S.src=t.target.src,requestAnimationFrame(()=>{n.style.visibility="visible",o.to(n,{top:`${(window.innerHeight-window.innerHeight*.9)/2}px`,left:`${(window.innerWidth-window.innerWidth*.9)/2}px`,width:"90%",height:"90%",duration:.5,ease:"power2.out",onComplete:()=>{k.style.display="flex",k.style.opacity="1",document.body.removeChild(n),document.addEventListener("keydown",H)}})})})});function D(){const i=S.getBoundingClientRect(),t=S.cloneNode(!0);document.body.appendChild(t),t.style.position="fixed",t.style.top=`${i.top}px`,t.style.left=`${i.left}px`,t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.zIndex="1001",t.style.objectFit="contain";const y=d[g],n=y.getBoundingClientRect();o.to(t,{top:`${n.top}px`,left:`${n.left}px`,width:`${n.width}px`,height:`${n.height}px`,duration:.5,ease:"power2.inOut",onComplete:()=>{document.body.removeChild(t),o.to(s,{opacity:0,duration:.5}),y.style.visibility="visible"}}),o.to(s,{opacity:0,duration:.5,ease:"power2.in",onComplete:()=>{s.style.display="none"}}),$.style.display="flex",o.to([$,z,F],{opacity:1,duration:.5,ease:"power2.in"}),k.style.display="none",document.removeEventListener("keydown",H)}function P(){d.length>0&&(d[g].style.visibility="visible",g=(g+1)%d.length,d[g].style.visibility="hidden",O(),S.src=d[g].src)}function M(){d.length>0&&(d[g].style.visibility="visible",g=(g-1+d.length)%d.length,d[g].style.visibility="hidden",O(),S.src=d[g].src)}k.addEventListener("click",i=>{if(i.target===k){D();return}const t=k.querySelector("img"),y=t.getBoundingClientRect(),n=y.width,u=y.height,b=t.naturalWidth,L=t.naturalHeight,f=n/b,v=u/L;let l=n,m=u,w=0,A=0;f<v?(m=L*f,A=(u-m)/2):(l=b*v,w=(n-l)/2);const x=i.clientX-y.left-w,C=i.clientY-y.top-A;x>=0&&x<=l&&C>=0&&C<=m?x>l/2?P():M():D()});B.addEventListener("click",function(i){i.preventDefault();const t="/";sessionStorage.setItem("isInternalNavigation","true"),fetch(t,{mode:"no-cors"}).then(()=>console.log("Page preloaded:",t)).catch(()=>console.warn("Failed to preload page:",t)),B.style.pointerEvents="none"});sessionStorage.getItem("isInternalNavigation");
