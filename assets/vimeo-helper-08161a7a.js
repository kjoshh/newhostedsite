const y="modulepreload",k=function(s){return"/"+s},d={},f=function(t,r,n){if(!r||r.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(r.map(e=>{if(e=k(e),e in d)return;d[e]=!0;const i=e.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!n)for(let o=l.length-1;o>=0;o--){const h=l[o];if(h.href===e&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${c}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":y,i||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),i)return new Promise((o,h)=>{a.addEventListener("load",o),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>t()).catch(e=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=e,window.dispatchEvent(i),!i.defaultPrevented)throw e})};class p{constructor(t,r,n){if(this.musicPlayer=document.querySelector(t),console.log("musicPlayer:",this.musicPlayer),!this.musicPlayer){console.error("Error: .music-player-container not found in the DOM.");return}this.togglePlayer=this.musicPlayer.querySelector(".toggle-player"),this.containerSelector=t,this.trackList=r,this.bodymovin=n,this.initializePlayer()}initializePlayer(){if(this.musicPlayer=document.querySelector(this.containerSelector),!this.musicPlayer){console.error("Error: .music-player-container not found in the DOM.");return}if(this.togglePlayer=this.musicPlayer.querySelector(".toggle-player"),this.trackInfo=this.musicPlayer.querySelector(".track-info"),this.trackName=this.musicPlayer.querySelector(".track-name"),this.trackArtist=this.musicPlayer.querySelector(".track-artist"),this.trackNav=this.musicPlayer.querySelector(".track-nav"),this.playPauseBtn=this.musicPlayer.querySelector(".playpause-track"),this.nextBtn=this.musicPlayer.querySelector(".next-track"),this.prevBtn=this.musicPlayer.querySelector(".prev-track"),this.soundBars=this.musicPlayer.querySelector(".sound-bars"),!this.togglePlayer||!this.trackInfo||!this.trackName||!this.trackArtist||!this.trackNav||!this.playPauseBtn||!this.nextBtn||!this.prevBtn||!this.soundBars){console.error("Error: One or more audio player elements not found.");return}this.trackIndex=0,this.isPlaying=!1,this.isHidden=!0,this.wasPlayingBeforeNext=!1,this.currentTrack=document.createElement("audio"),this.currentTrack.id="audio-player",this.soundBarsLottie=this.bodymovin.loadAnimation({container:this.soundBars,renderer:"svg",loop:!0,autoplay:!1,path:"/audio-ani.json"}),this.loadTrack(this.trackIndex),this.togglePlayer.addEventListener("click",()=>this.togglePlayerVisibility()),this.playPauseBtn.addEventListener("click",()=>this.playPauseTrack()),this.nextBtn.addEventListener("click",()=>this.nextTrack()),this.prevBtn.addEventListener("click",()=>this.prevTrack())}togglePlayerVisibility(){this.isHidden=!this.isHidden,this.isHidden?this.musicPlayer.classList.add("hide"):this.musicPlayer.classList.remove("hide")}loadTrack(t){this.currentTrack.src=this.trackList[t].path,this.currentTrack.load(),this.trackName.textContent=this.trackList[t].name,this.trackArtist.textContent=this.trackList[t].artist}playPauseTrack(){this.isPlaying?this.pauseTrack():this.playTrack()}playTrack(){this.currentTrack.play(),this.isPlaying=!0,this.playPauseBtn.querySelector("img").src="images/pauseaudio.png",this.soundBarsLottie.playSegments([0,30],!0)}pauseTrack(){this.currentTrack.pause(),this.isPlaying=!1,this.playPauseBtn.querySelector("img").src="images/playaudio.png",this.soundBarsLottie.stop()}nextTrack(){this.trackIndex<this.trackList.length-1?this.trackIndex+=1:this.trackIndex=0,this.loadTrack(this.trackIndex),this.playTrack()}prevTrack(){this.trackIndex>0?this.trackIndex-=1:this.trackIndex=this.trackList.length-1,this.loadTrack(this.trackIndex),this.playTrack()}openSpotify(){window.open("https://open.spotify.com/playlist/0ZZLX7n3iG6qFlkl5KKHsG?si=b9bc0f6c47ea4f03","_blank")}handleVideoStateChange(t){t?this.isPlaying?(this.wasPlayingBeforeVideoStart=!0,this.pauseTrack()):this.wasPlayingBeforeVideoStart=!1:this.wasPlayingBeforeVideoStart&&this.playTrack()}}let u;function g(s){return u=function(t){s.handleVideoStateChange(t)},u}function P(s,t){const r=document.getElementById(s),n=document.getElementById(t);if(r){let l=function(e,i){const c={method:e};i!==void 0&&(c.value=i),r.contentWindow.postMessage(JSON.stringify(c),"https://player.vimeo.com")};n?n.addEventListener("click",function(){u(!1),l("pause")}):console.error(`Error: #${t} button not found in the DOM.`)}else console.error(`Error: #${s} iframe not found in the DOM.`)}export{p as A,f as _,g as a,u as h,P as i};
